{"ast":null,"code":"import _objectSpread from\"C:/Users/LOQ/OneDrive/Documents/01project/TaskMaster/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{io}from'socket.io-client';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const socket=io('http://localhost:5000');function App(){React.useEffect(()=>{socket.on('connect',()=>{console.log('Connected to server');});return()=>{socket.off('connect');};},[]);// ...existing code...\n// ...existing code...\n// Auth state\nconst[token,setToken]=React.useState(\"\");const[username,setUsername]=React.useState(\"\");const[password,setPassword]=React.useState(\"\");const[isLogin,setIsLogin]=React.useState(true);const[authError,setAuthError]=React.useState(\"\");// Task state\nconst[tasks,setTasks]=React.useState([]);const[title,setTitle]=React.useState(\"\");const[assignee,setAssignee]=React.useState(\"\");const[deadline,setDeadline]=React.useState(\"\");const[priority,setPriority]=React.useState(\"Medium\");const[category,setCategory]=React.useState(\"\");const[notification,setNotification]=React.useState(\"\");const[selectedTask,setSelectedTask]=React.useState(null);const[comments,setComments]=React.useState([]);const[commentText,setCommentText]=React.useState(\"\");const[attachments,setAttachments]=React.useState([]);const[activity,setActivity]=React.useState([]);const[file,setFile]=React.useState(null);// Fetch tasks from API\nReact.useEffect(()=>{if(!token)return;fetch('http://localhost:5000/api/tasks',{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>setTasks(data));},[token]);// Add new task (API + socket)\nconst handleAddTask=async e=>{e.preventDefault();if(!title)return;const res=await fetch('http://localhost:5000/api/tasks',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({title,assignee,deadline,priority,category})});const newTask=await res.json();setTasks([newTask,...tasks]);setTitle(\"\");setAssignee(\"\");setDeadline(\"\");setPriority(\"Medium\");setCategory(\"\");socket.emit('task:add',newTask);};// Update task status (API + socket)\nconst handleUpdateStatus=async(id,status)=>{const res=await fetch(\"http://localhost:5000/api/tasks/\".concat(id),{method:'PUT',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({status})});const updated=await res.json();setTasks(tasks.map(task=>task._id===id?updated:task));socket.emit('task:update',{id,status});};// Listen for real-time task events\nReact.useEffect(()=>{socket.on('task:add',task=>{setTasks(prev=>{if(prev.some(t=>t._id===task._id))return prev;return[task,...prev];});setNotification(\"Task \\\"\".concat(task.title,\"\\\" created by another user.\"));setTimeout(()=>setNotification(\"\"),3000);});socket.on('task:update',_ref=>{let{id,status}=_ref;setTasks(prev=>prev.map(task=>task._id===id?_objectSpread(_objectSpread({},task),{},{status}):task));setNotification(\"Task updated by another user.\");setTimeout(()=>setNotification(\"\"),3000);});return()=>{socket.off('task:add');socket.off('task:update');};},[]);// Auth handlers\nconst handleAuth=async e=>{e.preventDefault();setAuthError(\"\");const endpoint=isLogin?'login':'register';const res=await fetch(\"http://localhost:5000/api/auth/\".concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});const data=await res.json();if(res.ok&&data.token){setToken(data.token);}else if(res.ok&&data.message){setIsLogin(true);}else{setAuthError(data.error||'Authentication failed');}};const handleLogout=()=>{setToken(\"\");setUsername(\"\");setPassword(\"\");setTasks([]);};// Modal logic\nconst openTaskModal=async task=>{setSelectedTask(task);// Join the task room for real-time updates\nsocket.emit('join-task',task._id);try{// Fetch comments\nconst resComments=await fetch(\"http://localhost:5000/api/comments/\".concat(task._id),{headers:{Authorization:\"Bearer \".concat(token)}});setComments(await resComments.json());// Fetch attachments\nconst resAttachments=await fetch(\"http://localhost:5000/api/attachments/\".concat(task._id),{headers:{Authorization:\"Bearer \".concat(token)}});setAttachments(await resAttachments.json());// Fetch activity log\nconst resActivity=await fetch(\"http://localhost:5000/api/activity/\".concat(task._id),{headers:{Authorization:\"Bearer \".concat(token)}});setActivity(await resActivity.json());}catch(error){console.error('Error loading task details:',error);}};const closeTaskModal=()=>{if(selectedTask){socket.emit('leave-task',selectedTask._id);}setSelectedTask(null);setComments([]);setAttachments([]);setActivity([]);};// Listen for real-time comment updates\nReact.useEffect(()=>{socket.on('comment:add',comment=>{setComments(prev=>[comment,...prev]);setActivity(prev=>[{user:comment.user,action:'added a comment',timestamp:new Date()},...prev]);});socket.on('attachment:add',attachment=>{setAttachments(prev=>[attachment,...prev]);});return()=>{socket.off('comment:add');socket.off('attachment:add');};},[]);// Add comment\nconst handleAddComment=async e=>{e.preventDefault();if(!commentText||!selectedTask)return;const res=await fetch(\"http://localhost:5000/api/comments/\".concat(selectedTask._id),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({text:commentText})});const newComment=await res.json();setComments([newComment,...comments]);setCommentText(\"\");};// Upload file\nconst handleUploadFile=async e=>{e.preventDefault();if(!file||!selectedTask)return;const formData=new FormData();formData.append('file',file);const res=await fetch(\"http://localhost:5000/api/attachments/\".concat(selectedTask._id),{method:'POST',headers:{Authorization:\"Bearer \".concat(token)},body:formData});const newAttachment=await res.json();setAttachments([newAttachment,...attachments]);setFile(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[notification&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#3182ce',color:'#fff',padding:'10px',borderRadius:'6px',marginBottom:'16px',textAlign:'center'},children:notification}),/*#__PURE__*/_jsx(\"h1\",{children:\"TaskMaster\"}),!token?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAuth,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:isLogin?'Login':'Register'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button\",style:{marginLeft:8},onClick:()=>setIsLogin(!isLogin),children:isLogin?'Switch to Register':'Switch to Login'}),authError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:authError})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{float:'right'},onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTask,style:{marginBottom:24,clear:'both'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Task title\",value:title,onChange:e=>setTitle(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Assignee\",value:assignee,onChange:e=>setAssignee(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:deadline,onChange:e=>setDeadline(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsxs(\"select\",{value:priority,onChange:e=>setPriority(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Low\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Category\",value:category,onChange:e=>setCategory(e.target.value),style:{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Add Task\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"task-list\",children:tasks.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No tasks yet. Add one above!\"}):tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"task-item\",onClick:()=>openTaskModal(task),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:task.title}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\"[\",task.status,\"]\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Assignee: \",task.assignee||\"Unassigned\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Deadline: \",task.deadline||\"None\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Priority: \",task.priority||\"Medium\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Category: \",task.category||\"None\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[task.status!==\"Completed\"&&/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:e=>{e.stopPropagation();handleUpdateStatus(task._id,\"Completed\");},children:\"Mark Completed\"}),task.status===\"Completed\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#38a169'},children:\"\\u2714\"})]})]},task._id))}),selectedTask&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.3)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},onClick:closeTaskModal,children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',padding:32,borderRadius:12,minWidth:400,maxWidth:600,position:'relative'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',top:12,right:12},onClick:closeTaskModal,children:\"X\"}),/*#__PURE__*/_jsx(\"h2\",{children:selectedTask.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Assignee:\"}),\" \",selectedTask.assignee||'Unassigned']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Deadline:\"}),\" \",selectedTask.deadline||'None']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",selectedTask.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority:\"}),\" \",selectedTask.priority||'Medium']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",selectedTask.category||'None']}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:120,overflowY:'auto',marginBottom:8},children:comments.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No comments yet.\"}):comments.map(c=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:6},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[c.user,\":\"]}),\" \",c.text]},c._id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddComment,style:{display:'flex',marginBottom:12},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:commentText,onChange:e=>setCommentText(e.target.value),placeholder:\"Add a comment...\",style:{flex:1,padding:8,borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",style:{marginLeft:8},children:\"Send\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Attachments\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUploadFile,style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),style:{flex:1}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",style:{marginLeft:8},children:\"Upload\"})]}),/*#__PURE__*/_jsx(\"div\",{children:attachments.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No files yet.\"}):attachments.map(a=>/*#__PURE__*/_jsx(\"a\",{href:a.url,target:\"_blank\",rel:\"noopener noreferrer\",children:a.filename},a._id))})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Activity Log\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:80,overflowY:'auto'},children:activity.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No activity yet.\"}):activity.map(log=>/*#__PURE__*/_jsxs(\"div\",{children:[log.user,\": \",log.action,\" (\",new Date(log.timestamp).toLocaleString(),\")\"]},log._id))})]})})]})]});}export default App;","map":{"version":3,"names":["React","io","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","App","useEffect","on","console","log","off","token","setToken","useState","username","setUsername","password","setPassword","isLogin","setIsLogin","authError","setAuthError","tasks","setTasks","title","setTitle","assignee","setAssignee","deadline","setDeadline","priority","setPriority","category","setCategory","notification","setNotification","selectedTask","setSelectedTask","comments","setComments","commentText","setCommentText","attachments","setAttachments","activity","setActivity","file","setFile","fetch","headers","Authorization","concat","then","res","json","data","handleAddTask","e","preventDefault","method","body","JSON","stringify","newTask","emit","handleUpdateStatus","id","status","updated","map","task","_id","prev","some","t","setTimeout","_ref","_objectSpread","handleAuth","endpoint","ok","message","error","handleLogout","openTaskModal","resComments","resAttachments","resActivity","closeTaskModal","comment","user","action","timestamp","Date","attachment","handleAddComment","text","newComment","handleUploadFile","formData","FormData","append","newAttachment","className","children","style","background","color","padding","borderRadius","marginBottom","textAlign","onSubmit","type","placeholder","value","onChange","target","marginRight","border","marginLeft","onClick","float","clear","length","cursor","stopPropagation","position","top","left","width","height","display","alignItems","justifyContent","zIndex","minWidth","maxWidth","right","maxHeight","overflowY","c","flex","files","a","href","url","rel","filename","toLocaleString"],"sources":["C:/Users/LOQ/OneDrive/Documents/01project/TaskMaster/client/src/App.js"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport './App.css';\r\n\r\nconst socket = io('http://localhost:5000');\r\n\r\nfunction App() {\r\n  React.useEffect(() => {\r\n    socket.on('connect', () => {\r\n      console.log('Connected to server');\r\n    });\r\n    return () => {\r\n      socket.off('connect');\r\n    };\r\n  }, []);\r\n\r\n  // ...existing code...\r\n\r\n  // ...existing code...\r\n    // Auth state\r\n    const [token, setToken] = React.useState(\"\");\r\n    const [username, setUsername] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [isLogin, setIsLogin] = React.useState(true);\r\n    const [authError, setAuthError] = React.useState(\"\");\r\n\r\n  // Task state\r\n  const [tasks, setTasks] = React.useState([]);\r\n  const [title, setTitle] = React.useState(\"\");\r\n  const [assignee, setAssignee] = React.useState(\"\");\r\n  const [deadline, setDeadline] = React.useState(\"\");\r\n  const [priority, setPriority] = React.useState(\"Medium\");\r\n  const [category, setCategory] = React.useState(\"\");\r\n  const [notification, setNotification] = React.useState(\"\");\r\n  const [selectedTask, setSelectedTask] = React.useState(null);\r\n  const [comments, setComments] = React.useState([]);\r\n  const [commentText, setCommentText] = React.useState(\"\");\r\n  const [attachments, setAttachments] = React.useState([]);\r\n  const [activity, setActivity] = React.useState([]);\r\n  const [file, setFile] = React.useState(null);\r\n\r\n    // Fetch tasks from API\r\n    React.useEffect(() => {\r\n      if (!token) return;\r\n      fetch('http://localhost:5000/api/tasks', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => setTasks(data));\r\n    }, [token]);\r\n\r\n    // Add new task (API + socket)\r\n    const handleAddTask = async (e) => {\r\n      e.preventDefault();\r\n      if (!title) return;\r\n      const res = await fetch('http://localhost:5000/api/tasks', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ title, assignee, deadline, priority, category })\r\n      });\r\n      const newTask = await res.json();\r\n      setTasks([newTask, ...tasks]);\r\n      setTitle(\"\");\r\n      setAssignee(\"\");\r\n      setDeadline(\"\");\r\n      setPriority(\"Medium\");\r\n      setCategory(\"\");\r\n      socket.emit('task:add', newTask);\r\n    };\r\n\r\n    // Update task status (API + socket)\r\n    const handleUpdateStatus = async (id, status) => {\r\n      const res = await fetch(`http://localhost:5000/api/tasks/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ status })\r\n      });\r\n      const updated = await res.json();\r\n      setTasks(tasks.map(task =>\r\n        task._id === id ? updated : task\r\n      ));\r\n      socket.emit('task:update', { id, status });\r\n    };\r\n\r\n    // Listen for real-time task events\r\n    React.useEffect(() => {\r\n      socket.on('task:add', (task) => {\r\n        setTasks(prev => {\r\n          if (prev.some(t => t._id === task._id)) return prev;\r\n          return [task, ...prev];\r\n        });\r\n          setNotification(`Task \"${task.title}\" created by another user.`);\r\n          setTimeout(() => setNotification(\"\"), 3000);\r\n      });\r\n      socket.on('task:update', ({ id, status }) => {\r\n        setTasks(prev => prev.map(task =>\r\n          task._id === id ? { ...task, status } : task\r\n        ));\r\n          setNotification(`Task updated by another user.`);\r\n          setTimeout(() => setNotification(\"\"), 3000);\r\n      });\r\n      return () => {\r\n        socket.off('task:add');\r\n        socket.off('task:update');\r\n      };\r\n    }, []);\r\n\r\n    // Auth handlers\r\n    const handleAuth = async (e) => {\r\n      e.preventDefault();\r\n      setAuthError(\"\");\r\n      const endpoint = isLogin ? 'login' : 'register';\r\n      const res = await fetch(`http://localhost:5000/api/auth/${endpoint}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok && data.token) {\r\n        setToken(data.token);\r\n      } else if (res.ok && data.message) {\r\n        setIsLogin(true);\r\n      } else {\r\n        setAuthError(data.error || 'Authentication failed');\r\n      }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n      setToken(\"\");\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n      setTasks([]);\r\n    };\r\n\r\n    // Modal logic\r\n    const openTaskModal = async (task) => {\r\n      setSelectedTask(task);\r\n      \r\n      // Join the task room for real-time updates\r\n      socket.emit('join-task', task._id);\r\n      \r\n      try {\r\n        // Fetch comments\r\n        const resComments = await fetch(`http://localhost:5000/api/comments/${task._id}`, { \r\n          headers: { Authorization: `Bearer ${token}` } \r\n        });\r\n        setComments(await resComments.json());\r\n        \r\n        // Fetch attachments\r\n        const resAttachments = await fetch(`http://localhost:5000/api/attachments/${task._id}`, { \r\n          headers: { Authorization: `Bearer ${token}` } \r\n        });\r\n        setAttachments(await resAttachments.json());\r\n        \r\n        // Fetch activity log\r\n        const resActivity = await fetch(`http://localhost:5000/api/activity/${task._id}`, { \r\n          headers: { Authorization: `Bearer ${token}` } \r\n        });\r\n        setActivity(await resActivity.json());\r\n      } catch (error) {\r\n        console.error('Error loading task details:', error);\r\n      }\r\n    };\r\n\r\n    const closeTaskModal = () => {\r\n      if (selectedTask) {\r\n        socket.emit('leave-task', selectedTask._id);\r\n      }\r\n      setSelectedTask(null);\r\n      setComments([]);\r\n      setAttachments([]);\r\n      setActivity([]);\r\n    };\r\n\r\n    // Listen for real-time comment updates\r\n    React.useEffect(() => {\r\n      socket.on('comment:add', (comment) => {\r\n        setComments(prev => [comment, ...prev]);\r\n        setActivity(prev => [{\r\n          user: comment.user,\r\n          action: 'added a comment',\r\n          timestamp: new Date()\r\n        }, ...prev]);\r\n      });\r\n\r\n      socket.on('attachment:add', (attachment) => {\r\n        setAttachments(prev => [attachment, ...prev]);\r\n      });\r\n\r\n      return () => {\r\n        socket.off('comment:add');\r\n        socket.off('attachment:add');\r\n      };\r\n    }, []);\r\n\r\n    // Add comment\r\n    const handleAddComment = async (e) => {\r\n      e.preventDefault();\r\n      if (!commentText || !selectedTask) return;\r\n      const res = await fetch(`http://localhost:5000/api/comments/${selectedTask._id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: commentText })\r\n      });\r\n      const newComment = await res.json();\r\n      setComments([newComment, ...comments]);\r\n      setCommentText(\"\");\r\n    };\r\n\r\n    // Upload file\r\n    const handleUploadFile = async (e) => {\r\n      e.preventDefault();\r\n      if (!file || !selectedTask) return;\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      const res = await fetch(`http://localhost:5000/api/attachments/${selectedTask._id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: formData\r\n      });\r\n      const newAttachment = await res.json();\r\n      setAttachments([newAttachment, ...attachments]);\r\n      setFile(null);\r\n    };\r\n\r\n    return (\r\n      <div className=\"app-container\">\r\n          {notification && (\r\n            <div style={{background:'#3182ce',color:'#fff',padding:'10px',borderRadius:'6px',marginBottom:'16px',textAlign:'center'}}>\r\n              {notification}\r\n            </div>\r\n          )}\r\n        <h1>TaskMaster</h1>\r\n        {!token ? (\r\n          <form onSubmit={handleAuth} style={{marginBottom: 24}}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n            />\r\n            <button className=\"button\" type=\"submit\">{isLogin ? 'Login' : 'Register'}</button>\r\n            <button type=\"button\" className=\"button\" style={{marginLeft: 8}} onClick={() => setIsLogin(!isLogin)}>\r\n              {isLogin ? 'Switch to Register' : 'Switch to Login'}\r\n            </button>\r\n            {authError && <p style={{color: 'red'}}>{authError}</p>}\r\n          </form>\r\n        ) : (\r\n          <>\r\n            <button className=\"button\" style={{float: 'right'}} onClick={handleLogout}>Logout</button>\r\n            <form onSubmit={handleAddTask} style={{marginBottom: 24, clear: 'both'}}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Task title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n                style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Assignee\"\r\n                value={assignee}\r\n                onChange={e => setAssignee(e.target.value)}\r\n                style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n              />\r\n              <input\r\n                type=\"date\"\r\n                value={deadline}\r\n                onChange={e => setDeadline(e.target.value)}\r\n                style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n              />\r\n              <select value={priority} onChange={e => setPriority(e.target.value)} style={{marginRight:8,padding:8,borderRadius:4,border:'1px solid #ccc'}}>\r\n                <option value=\"High\">High</option>\r\n                <option value=\"Medium\">Medium</option>\r\n                <option value=\"Low\">Low</option>\r\n              </select>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Category\"\r\n                value={category}\r\n                onChange={e => setCategory(e.target.value)}\r\n                style={{marginRight: 8, padding: 8, borderRadius: 4, border: '1px solid #ccc'}}\r\n              />\r\n              <button className=\"button\" type=\"submit\">Add Task</button>\r\n            </form>\r\n            <div className=\"task-list\">\r\n              {tasks.length === 0 ? (\r\n                <p>No tasks yet. Add one above!</p>\r\n              ) : (\r\n                tasks.map(task => (\r\n                  <div className=\"task-item\" key={task._id} onClick={() => openTaskModal(task)} style={{cursor:'pointer'}}>\r\n                    <div>\r\n                      <strong>{task.title}</strong> <span className=\"status\">[{task.status}]</span><br/>\r\n                      <span>Assignee: {task.assignee || \"Unassigned\"}</span><br/>\r\n                      <span>Deadline: {task.deadline || \"None\"}</span><br/>\r\n                      <span>Priority: {task.priority || \"Medium\"}</span><br/>\r\n                      <span>Category: {task.category || \"None\"}</span>\r\n                    </div>\r\n                    <div>\r\n                      {task.status !== \"Completed\" && (\r\n                        <button className=\"button\" onClick={e => {e.stopPropagation(); handleUpdateStatus(task._id, \"Completed\")}}>Mark Completed</button>\r\n                      )}\r\n                      {task.status === \"Completed\" && (\r\n                        <span style={{color: '#38a169'}}>âœ”</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n            {/* Task Modal */}\r\n            {selectedTask && (\r\n              <div style={{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.3)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000}} onClick={closeTaskModal}>\r\n                <div style={{background:'#fff',padding:32,borderRadius:12,minWidth:400,maxWidth:600,position:'relative'}} onClick={e => e.stopPropagation()}>\r\n                  <button style={{position:'absolute',top:12,right:12}} onClick={closeTaskModal}>X</button>\r\n                  <h2>{selectedTask.title}</h2>\r\n                  <p><strong>Assignee:</strong> {selectedTask.assignee || 'Unassigned'}</p>\r\n                  <p><strong>Deadline:</strong> {selectedTask.deadline || 'None'}</p>\r\n                  <p><strong>Status:</strong> {selectedTask.status}</p>\r\n                  <p><strong>Priority:</strong> {selectedTask.priority || 'Medium'}</p>\r\n                  <p><strong>Category:</strong> {selectedTask.category || 'None'}</p>\r\n                  <hr/>\r\n                  {/* Comments */}\r\n                  <h3>Comments</h3>\r\n                  <div style={{maxHeight:120,overflowY:'auto',marginBottom:8}}>\r\n                    {comments.length === 0 ? <p>No comments yet.</p> : comments.map(c => (\r\n                      <div key={c._id} style={{marginBottom:6}}><strong>{c.user}:</strong> {c.text}</div>\r\n                    ))}\r\n                  </div>\r\n                  <form onSubmit={handleAddComment} style={{display:'flex',marginBottom:12}}>\r\n                    <input type=\"text\" value={commentText} onChange={e => setCommentText(e.target.value)} placeholder=\"Add a comment...\" style={{flex:1,padding:8,borderRadius:4,border:'1px solid #ccc'}} />\r\n                    <button className=\"button\" type=\"submit\" style={{marginLeft:8}}>Send</button>\r\n                  </form>\r\n                  <hr/>\r\n                  {/* Attachments */}\r\n                  <h3>Attachments</h3>\r\n                  <div style={{marginBottom:8}}>\r\n                    <form onSubmit={handleUploadFile} style={{display:'flex'}}>\r\n                      <input type=\"file\" onChange={e => setFile(e.target.files[0])} style={{flex:1}} />\r\n                      <button className=\"button\" type=\"submit\" style={{marginLeft:8}}>Upload</button>\r\n                    </form>\r\n                    <div>\r\n                      {attachments.length === 0 ? <p>No files yet.</p> : attachments.map(a => (\r\n                        <a key={a._id} href={a.url} target=\"_blank\" rel=\"noopener noreferrer\">{a.filename}</a>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  <hr/>\r\n                  {/* Activity Log */}\r\n                  <h3>Activity Log</h3>\r\n                  <div style={{maxHeight:80,overflowY:'auto'}}>\r\n                    {activity.length === 0 ? <p>No activity yet.</p> : activity.map(log => (\r\n                      <div key={log._id}>{log.user}: {log.action} ({new Date(log.timestamp).toLocaleString()})</div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}